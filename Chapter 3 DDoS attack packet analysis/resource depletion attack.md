## 💡 자원 고갈 공격
자원 고갈 공격은 특정 TCP Flags를 다량으로 전송하여 장비의 CPU나 메모리, 운영체제의 자원을 고갈시키는 공격 유형으로 대부분 TCP의 취약점을 이용한 공격이다.
TCP도 handshake 과정이 완료되기 전까지는 UDP와 마찬가지로 출발지 IP뿐만 아니라 데이터까지 위조할 수 있고, 큰 크기로 위조하여 대역폭 공격처럼 사용하기도 한다.

### 🧸 SYN Flooding
TCP의 3-way-handshake 과정에서 발생가능한 취약점을 이용한 공격 유형이다.

TCP handshake 과정은 ```SYN - SYN-ACK - ACK``` 순서인데, 만약 출발지 IP를 존재하지 않는 IP로 위조하여 SYN 명령을 보낸다면 서버는 무조건 SYN-ACK를 보내준 후 ACK 명령을 기다리게 된다.
이 단계를 Half-open 상태라고 하며, ```SYN_RECV```라는 상태 값을 가진다. 존재하지 않는 IP로 SYN 명령을 보냈기 때문에 ACK 명령은 보낼 수 가 없다.

서버는 언젠가 ACK 명령을 받을 것을 대비하여 특정시간(기본 75초) 동안 **backlog-queue**라는 메모리에 저장하는데, 위조된 IP로 보낸 많은 SYN 명령을 통해 backlog-queue라는 메모리가 가득 찬다면?
결국 더 이상의 정상 접속도 연결할 수 없는 상태가 된다. 이것이 SYN Flooding의 기본 원리이다.

SYN Flooding이 발생하였을 때 netstat를 보면 수많은 ```SYN_RECV``` 상태를 볼 수 있을 것이다.

만약 실제 존재하는 IP로 공격을 한다면 보낸 적 없는 SYN로 인해 서버가 SYN-ACK를 보내게 되고, 이를 받은 IP는 ```RST``` 명령을 보내 backlog-queue라는 메모리에 저장되지 않게 된다.
즉 공격이 실패하게 되는데, 그렇기에 SYN Flooding 공격이 성공하려면 SYN 패킷 전송 이후에 아무런 응답이 발생하지 않아야 하는 조건이 성립되어야 한다.
