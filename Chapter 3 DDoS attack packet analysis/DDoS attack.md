# ⚔️ DDoS 공격
```DDoS```란 **과도한 트래픽을 공격 대상에게 일방적으로 전송하여 서비스를 불가하게 하는 공격 기법**이다.

## 💡 DDoS 공격의 기본 원리
DDoS 공격은 **통신의 기본을 이루는 세 가지 요소에 과도한 트래픽 또는 부하를 발생시켜 정상적인 통신이 불가능하게 만드는 공격 유형**이다.

### 🧸 통신의 기본 3요소

구분|설명
:---:|:---:|
```전송 매체``` (회선)|End-to-End를 연결해 주는 통로이며, 각 전송 매체는 종류별로 수용 가능한 대역폭을 보유하고 있다. <br/> ex) UTP 케이블, 광케이블
```정보원``` (송수신자)|End-to-End간에 또는 그 중간에 연결되는 장비이며 각각 처리할 수 있는 최대 성능이 존재한다. 최대 성능은 CPU/메모리 등 장착되는 부품에 따라 달라진다.
```프로토콜```|인터넷 통신을 위한 규약이며, 정상적인 통신을 위해서는 미리 정의된 규약에 맞추어 데이터를 송수신해야 한다.

요소별로 역할이 명확히 다르므로 정상 통신이 불가능하게 만들 수 있는 원인도 각각 다르다.

### 🧸 DDoS 공격 형태별 발생하는 통신 기본 3요소의 영향

구분|설명
:---:|:---:|
```전송 매체``` (회선)|전송 매체별 자신이 수용 가능한 대역폭 이상의 트래픽이 전송될 경우, 전송된 트래픽을 수용하지 못하여 정상적인 통신이 불가능해진다. <br/> ex) 1G UTP 케이블에 1.5G 트래픽을 전송, 10G 광케이블에 20G 트래픽을 전송하는 경우
```정보원``` (송수신자)|각 정보원이 처리 가능한 성능 이상의 요청이 발생할 경우, 이를 처리하지 못하여 정상적인 통신이 불가능해진다. <br/> ex) 1초에 100만개의 업무를 처리하는 고성능 서버에 1초에 500만개의 업무를 요청하는 경우
```프로토콜```|인터넷 환경에서 가장 많이 사용되는 프로토콜이 TCP와 UDP이며, 이는 DDoS 공격에서도 마찬가지이다. 각각의 프로토콜은 특정 요청에 대해 어떤 액션을 할지 정해진 규약이 존재하는데, 이 프로토콜의 특징과 허점을 이용하여 운영체제 또는 설치된 애플리케이션이 비정상 상태에 빠지게 할 수 있다.

## 💡 DDoS 공격의 목적
예전에는 주로 협박에 의한 금전 요구 사례가 대부분이였으나, 최근에는 사회적인 불만에 의한 핵티비즘, 그냥 심심해서 하는 실력 과시와 같이 다양한 이유에 의해 일어난다. ex) 금전 요구, 개인적 원한, 경쟁사에 의한 공격/청부, 핵티비즘 etc

## 💡 DoS & DDoS의 차이점
기본 통신 요소들의 특징을 이용하여 정상 사용자들이 더 이상 접속을 하지 못하도록 만드는 것에 목적이 있다.
DoS나 DDoS는 목적은 같지만, 공격 형태에 약간의 차이가 존재한다.

```DoS공격```은 ```Denial of Service(서비스 거부 공격)```의 약자로 **특정 공격 PC 또는 서버 1대에서 공격 대상 서버 1대로 과도한 트래픽 또는 패킷을 전송하는 1:1 형태**이다.
서버와 차단 장비의 성능이 높아짐에 따라 DoS와 같은 1:1 공격이 큰 효과를 낼 수 없게 되자, 이에 맞추어 공격의 형태도 진화되었는데 공격 성능을 증대시키기 위해 탄생한 것이 ```DDoS```이다.

1:1 공격을 하는 DoS와는 달리 **악성 코드에 감염된 여러 대의 좀비들을 이용하여 동시에 공격하기 때문에 N:1 형태**를 띄며, 여러 대의 ```'분산된(Distributed)'``` 시스템으로부터 DoS를 발생시킨다는 의미에서 ```DDoS(Distributed Denial Of Service, 분산 서비스 거부 공격)```라고 한다.

공격자는 **좀비 PC**를 확보하기 위해 악성 코드를 생성하여 접속이 많은 게시판에 삽입하거나 이미지, 동영상 파일에 삽입하여 업로드하며 사용자들은 이 파일들을 실행하거나 게시판을 열기만 해도 악성 코드에 감염된 **좀비 PC**가 될 수 있다.

공격자는 이런 방식으로 확보한 수많은 좀비 PC들을 효율적으로 관리하기 위해 **C&C**라는 통제 서버를 이용하며, **C&C**로 전송된 공격자의 명령은 수많은 좀비 PC들로 전송되어 **동시에 공격 트래픽을 생성**할 수 있는 것이다. 이때 발생한 트래픽은 DoS와는 비교할 수 없을 만큼의 큰 트래픽이 생성된다.

# ⚔️ DDoS 공격의 주요 유형
## 💡 대역폭 공격
대역폭 공격이란 과도한 트래픽으로 회선 대역폭을 고갈시켜 정상적인 트래픽을 수용하지 못하게 만드는 공격이다.
큰 트래픽을 생성하기 위해 위조된 큰 크기의 패킷을 사용하고, 출발지 IP도 함께 위조하는 것이 일반적이다.

- 목적 : 대용량의 트래픽 전송으로 인한 네트워크 회선 대역폭 고갈
- 영향 : 회선 대역폭 고갈로 인한 정상 사용자 접속 불가
- 주요 프로토콜 : ```UDP, ICMP```
- 특징 : 주로 위조된 큰 크기의 패킷과 위조된 출발지 IP를 사용한다.

구분|내용
:---:|:---:|
대표적인 공격 유형|```UDP Flooding``` <br/> ```ICMP Flooding``` <br/> ```Fragment Flooding``` <br/> ```증폭/반사 공격```
공격 목적|회선 대역폭 잠식
공격 기법|```bps(bits per second)```
공격 계층|네트워크 계층(Layer 3/4)

## 💡 자원 고갈 공격
자원 고갈 공격은 다량의 TCP 패킷을 공격 대상에게 전송하여 서버 또는 네트워크 장비의 자원을 고갈시키는 공격이다.
위조된 큰 크기의 패킷을 전송하여 대역폭 고갈과 자원 고갈을 동시에 유발하기도 한다. 출발지 IP도 함께 위조하는 것이 일반적이다.

- 목적 : 정상 혹은 비정상적인 TCP Flags(SYN, ACK, FIN 등)가 설정된 패킷을 서버 또는 네트워크 장비로 전송하여 장비의 자원 고갈
- 영향 : 장비의 특정 자원이 고갈되어 정상적인 운영 불가
- 주요 프로토콜 : ```TCP```
- 특징 : 주로 TCP Flags를 이용하며, 위조된 IP를 사용한다.

구분|내용
:---:|:---:|
대표적인 공격 유형|```SYN Flooding``` <br/> ```ACK Flooding``` <br/> ```Fragment Flooding```
공격 목적|서버 및 네트워크 장비의 자원 고갈로 인한 장비 운영 불가
공격 기법|```PPS(packets per second)```
공격 계층|네트워크 계층(Layer 3/4)

## 💡 응용 계층 공격
응용 계층 공격이란 웹 서비스 또는 DNS 서비스 등 서버에 설치된 애플리케이션을 대상으로 과도한 요청을 전송하여 부하를 발생시키는 공격이다.
주로 웹 서버 또는 DNS 서버가 공격 대상이다.

웹 서버 대상의 공격은 Real IP를 이용하여 정상적인 3-way-handshake 이후 대량의 HTTP GET 또는 POST 요청을 전송하여 웹 서버의 부하를 발생시키는 형태이다.
DNS 대상의 공격은 주로 위조된 IP를 이용하여 대량의 DNS 쿼리를 전송하여 DNS 서버의 부하를 발생시키는 형태이다.

- 목적 : 서버에 설치된 애플리케이션의 부하를 발생시키고, 웹 서버의 경우 연결된 DB에도 부하가 발생
- 영향 : 부하 증가로 인한 운영 데몬 다운, 서버 자원 부하 발생으로 인한 정상적인 운영 불가
- 주요 프로토콜 : ```HTTP, DNS```
- 특징 : HTTP 공격은 Real IP를 이용하여 GET 또는 POST를 사용하고, DNS 공격은 위조된 IP를 이용하여 DNS 질의를 요청한다.

구분|내용
:---:|:---:|
대표적인 공격 유형|```GET Flooding``` <br/> ```POST Flooding``` <br/> ```DNS Query Flooding```
공격 목적|서버의 부하 증가로 인한 운영 중인 서비스(데몬) 다운
공격 기법|```RPS(request per second)```
공격 계층|응용 계층(Layer 7)